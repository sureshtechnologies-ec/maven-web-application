pipeline {
agent any 
environment{
    PATH = "/opt/maven/bin:$PATH"
}
stages {
      stage('checkout') {
         steps {
            echo 'pulling the code'
            git 'https://github.com/sureshtechnologies-ec/maven-web-application.git'
        }
        }
        stage('maven build'){
       steps{
           echo "building the jars"
           sh " mvn clean package "
        }
        }
        
 stage('tomcat-deploy'){
       steps{                
       sh "scp  /root/.jenkins/workspace/all-in-one/target/maven-web-application.war /opt/tomcat/webapps/maven-web-application.war"
                                }
    
    }
    }
  
}

